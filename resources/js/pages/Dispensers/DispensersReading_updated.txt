এই file এ যে changes করতে হবে:

1. Import section এ add করুন:
```typescript
import {
    Dialog,
    DialogContent,
    DialogDescription,
    DialogFooter,
    DialogHeader,
    DialogTitle,
} from '@/components/ui/dialog';
```

2. State variables এ add করুন (line 280 এর পরে):
```typescript
const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);
const [isSuccessModalOpen, setIsSuccessModalOpen] = useState(false);
const [validationError, setValidationError] = useState('');
```

3. handleSubmit function টা replace করুন (line 700 থেকে):
```typescript
const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    
    if (!data.transaction_date) {
        setValidationError('Transaction date is required');
        return;
    }
    if (!data.shift_id) {
        setValidationError('Shift selection is required');
        return;
    }
    
    const creditSales = parseFloat(data.credit_sales || '0');
    const bankSales = parseFloat(data.bank_sales || '0');
    const cashSales = parseFloat(data.cash_sales || '0');
    const creditSalesOther = parseFloat(data.credit_sales_other || '0');
    const bankSalesOther = parseFloat(data.bank_sales_other || '0');
    const cashSalesOther = parseFloat(data.cash_sales_other || '0');
    const cashReceive = parseFloat(data.cash_receive || '0');
    const totalCash = parseFloat(data.total_cash || '0');
    const cashPayment = parseFloat(data.cash_payment || '0');
    
    if (isNaN(creditSales) || creditSales < 0) {
        setValidationError('Credit sales must be a valid positive number');
        return;
    }
    if (isNaN(bankSales) || bankSales < 0) {
        setValidationError('Bank sales must be a valid positive number');
        return;
    }
    if (isNaN(cashSales) || cashSales < 0) {
        setValidationError('Cash sales must be a valid positive number');
        return;
    }
    if (isNaN(creditSalesOther) || creditSalesOther < 0) {
        setValidationError('Credit sales (other) must be a valid positive number');
        return;
    }
    if (isNaN(bankSalesOther) || bankSalesOther < 0) {
        setValidationError('Bank sales (other) must be a valid positive number');
        return;
    }
    if (isNaN(cashSalesOther) || cashSalesOther < 0) {
        setValidationError('Cash sales (other) must be a valid positive number');
        return;
    }
    if (isNaN(cashReceive) || cashReceive < 0) {
        setValidationError('Cash receive must be a valid positive number');
        return;
    }
    if (isNaN(totalCash) || totalCash < 0) {
        setValidationError('Total cash must be a valid positive number');
        return;
    }
    if (isNaN(cashPayment) || cashPayment < 0) {
        setValidationError('Cash payment must be a valid positive number');
        return;
    }
    
    const totalSalesAmount = creditSales + bankSales + cashSales + creditSalesOther + bankSalesOther + cashSalesOther;
    if (totalSalesAmount === 0) {
        setValidationError('Cannot close shift with zero sales. Please add sales data first.');
        return;
    }
    
    setIsConfirmModalOpen(true);
};

const handleConfirmSubmit = () => {
    setIsConfirmModalOpen(false);
    
    const otherProductSalesData = otherProductsSales
        .filter(sale => sale.sell_quantity > 0)
        .map(sale => ({
            product_id: sale.product_id,
            quantity: sale.sell_quantity,
            unit_price: otherProducts.find(p => p.id === sale.product_id)?.sales_price || 0,
            employee_id: sale.sell_by,
            remarks: null
        }));

    const submitData = {
        ...data,
        other_product_sales: otherProductSalesData
    };

    router.post('/product/dispensers-reading', submitData, {
        onSuccess: () => {
            setIsSuccessModalOpen(true);
        },
        onError: () => {
            setValidationError('Failed to close shift.');
        },
    });
};
```

4. File এর শেষে (সব FormModal এর পরে, </AppLayout> এর আগে) add করুন:
```typescript
<Dialog open={validationError !== ''} onOpenChange={() => setValidationError('')}>
    <DialogContent>
        <DialogHeader>
            <DialogTitle>Validation Error</DialogTitle>
            <DialogDescription>{validationError}</DialogDescription>
        </DialogHeader>
        <DialogFooter>
            <Button onClick={() => setValidationError('')}>OK</Button>
        </DialogFooter>
    </DialogContent>
</Dialog>

<Dialog open={isConfirmModalOpen} onOpenChange={setIsConfirmModalOpen}>
    <DialogContent>
        <DialogHeader>
            <DialogTitle>Confirm Shift Close</DialogTitle>
            <DialogDescription>
                Are you sure you want to close this shift?
            </DialogDescription>
        </DialogHeader>
        <DialogFooter>
            <Button variant="secondary" onClick={() => setIsConfirmModalOpen(false)}>
                Cancel
            </Button>
            <Button onClick={handleConfirmSubmit}>
                Confirm
            </Button>
        </DialogFooter>
    </DialogContent>
</Dialog>

<Dialog open={isSuccessModalOpen} onOpenChange={() => {}}>
    <DialogContent>
        <DialogHeader>
            <DialogTitle>Success</DialogTitle>
            <DialogDescription>
                Shift closed successfully.
            </DialogDescription>
        </DialogHeader>
        <DialogFooter>
            <Button onClick={() => window.location.reload()}>
                OK
            </Button>
        </DialogFooter>
    </DialogContent>
</Dialog>
```
